<HTML>
<HEAD>
<TITLE>Кадры анимации</TITLE>
<LINK rel = "stylesheet" type = "text/css" href = "../styles.css">
<script type="text/javascript">
function toggle_display(e)
{
    if (e.style.display == "none")
        e.style.display = "";
    else
        e.style.display = "none";
    return false;
}
</script>
</HEAD>
<BODY>
	<DIV>
		<H1>КАДРЫ АНИМАЦИИ</H1>
		<P><B>Описание кадров</B> производится в отдельном <A href="../html/rdo_terms.htm#object">объекте</A>, который является исходным для системы отображения. Этот объект имеет расширение <FONT class="syntax">.frm</FONT>. <A name="frame"></A>Кадр представляет собой прямоугольную область экрана, в которой производится отображение. Он состоит из фоновой картинки и переменных элементов (элементов отображения или спрайтов), состав, форма, размеры и расположение которых определяются состоянием системы и, следовательно, могут изменяться во время просмотра кадра.</P>
		<P>Описание кадра имеет следующий формат:</P>
		<PRE class="syntax">$Frame <A class="syntax" href="#frm_name">&lt;имя_кадра&gt;</A>
[ Show_if <A class="syntax" href="#show_cond">&lt;условие_показа_кадра&gt;</A> ]
$Back_picture = <A class="syntax" href="#back_desc">&lt;описание_фоновой_картинки&gt;</A>
[ <A class="syntax" href="#elem_desc">&lt;описание_элементов_отображения&gt;</A> ]
$End</PRE>
		<DL class="syntax">
			<DT class="syntax"><A name="frm_name"></A><I>имя_кадра</I></DT>
			<DD class="syntax">Имя кадра представляет собой <A href="../html/rdo_lex_div_names.htm">простое имя</A>. Имена должны быть различными для всех кадров и не должны совпадать с ранее определенными именами.</DD>
			<DT class="syntax"><A name="show_cond"></A><I>условие_показа_кадра</I></DT>
			<DD class="syntax">Условие показа кадра используется при автоматическом переключении кадров и представляет собой <A href="../html/rdo_base_equations.htm">логическое выражение</A>. Это логическое выражение вычисляется при каждом событии. Если оно истинно, то кадр отображается, если ложно - то нет. Если при очередном событии значение выражения меняется, то кадр появляется на экране либо исчезает. Условие показа вместе с зарезервированным словом <FONT class="syntax">Show_if</FONT> может отсутствовать. Кадры с заданным условием показа называют <B>условными</B>. Если при некотором состоянии моделируемой системы выполняются условия показа нескольких условных кадров, то отображается тот из них, который в объекте описания кадров встречается раньше других.
				<DL class="syntax">
					<DD class="syntax"><H4>Примеры</H4><PRE class="samples">Show_if Time_now &gt; 0.2 and Time_now &lt;= 0.3</PRE></DD>
				</DL>
			<P>Такой условный кадр будет изображаться, если время в моделируемой системе находится в интервале от 0.2 до 0.3. При первом событии после того как системное время станет больше 0.2 кадр автоматически появится на экране, при первом событии после 0.3 кадр автоматически исчезнет.</P>
			</DD>
			<DT class="syntax"><A name="back_desc"></A><I>описание_фоновой_картинки</I></DT>
			<DD class="syntax">Описание фоновой картинки имеет следующий формат:
				<PRE class="syntax">[ <A class="syntax" href="#back_color">&lt;цвет_фона&gt;</A> ] (<A class="syntax" href="#frm_dim">&lt;размеры_кадра&gt;</A> | <A class="syntax" href="#frm_file">&lt;имя_файла_фона&gt;</A>)</PRE>
				<DL class="syntax">
					<DT class="syntax"><A name="back_color"></A><I>цвет_фона</I></DT>
					<DD class="syntax">Цвет фона задает цвет части <A href="#frame">кадра</A>, которая находится за пределами фоновой картинки. Цвет задается тремя <A href="../html/rdo_lex_div_numeric_const.htm">численными константами</A> целого типа, разделенными пробелами и заключенными в угловые скобки. Каждое число должно находиться в диапазоне 0..255, оно задает интенсивность одной из трех цветовых составляющих: первое - красной, второе - зеленой и третье - синей.
						<DL class="syntax">
							<DD class="syntax">
								<H4>Примеры</H4>
								<PRE class="samples">&lt;0   0   0&gt;   - черный
&lt;255 0   0&gt;   - красный
&lt;0   255 0&gt;   - зеленый
&lt;0   0   255&gt; - синий
&lt;255 255 0&gt;   - желтый
&lt;255 255 255&gt; - белый
&lt;127 127 127&gt; - серый</PRE>
							</DD>
						</DL>
						<P>Цвет фона является необязательным параметром. Если он не задан, используется значение по умолчанию, равное &lt;0 100 0&gt; (это значение соответствует темно-зеленому цвету).</P>
					</DD>
					<DT class="syntax"><A name="frm_dim"></A><A name="frm_file"></A><I>размеры_кадра, имя_файла_фона</I></DT>
					<DD class="syntax">Для описания фоновой картинки задают либо имя файла, содержащего фоновое изображение, либо размер фоновой картинки. Файл фоновой картинки должен быть растровым изображением, сохраненным в формате независимой от устройства битовой карты (BMP - формате) и иметь расширение .bmp.
						<P>Если вместо имени файла указаны размеры фоновой картинки, РДО-имитатор сам создает фоновую картинку, которая представляет собой прямоугольник указанного размера с цветом фона и границей черного цвета толщиной в один пиксел. Размеры задают двумя численными константами целого типа. Первое число задает ширину фоновой картинки и должно быть в диапазоне 1..800, второе число задает высоту и должно находиться в диапазоне 1..600.</P>
					</DD>
				</DL>
			</DD>
			<DT class="syntax"><A name="elem_desc"></A><I>описание_элементов_отображения</I></DT>
			<DD class="syntax">Элементы отображения могут отсутствовать.
				<P>Элементы отображения разбивают на множества отображения. Множества бывают <A name="cond_set"></A><A name="cond_set_shif"></A>условными (элементы множества отображаются только в том случае, если условие показа истинно) и <A name="no_cond_set"></A>безусловными.</P>
				<P><A name="cond_set"></A>Формат описания <B>условного множества</B></P>
				<PRE class="syntax">Show_if <A class="syntax" href="#elem_show_cond">&lt;условие_показа&gt;</A>
  <A class="syntax" href="#elem">&lt;элемент_отображения&gt;</A> { &lt;элемент_отображения&gt; }</PRE>
				<P>Формат описания <B>безусловного множества</B>:</P>
				<PRE class="syntax">Show
  <A class="syntax" href="#elem">&lt;элемент_отображения&gt;</A> { &lt;элемент_отображения&gt; }</PRE>
				<P>В кадре может быть произвольное количество условных и безусловных множеств, они могут располагаться в произвольном порядке. Количество и порядок следования элементов отображения в множестве также произвольны.</P>
				<DL class="syntax">
					<DT class="syntax"><A name="elem_show_cond"></A><I>условие_показа</I></DT>
					<DD class="syntax">Условие показа представляет собой <A href="../html/rdo_base_equations.htm">логическое выражение</A>.</DD>
					<DT class="syntax"><A name="elem" href="../html/rdo_obj_frm_elem.htm"><I>элемент_отображения</I></A></DT>
					<DD class="syntax">Элемент отображения (спрайт) имеет следующий формат:
						<PRE class="syntax"><A class="syntax">&lt;тип_элемента&gt;</A> [ <A class="syntax">&lt;свойства_элемента&gt;</A> ]</PRE>
				</DL>
		<A href="" onclick="return toggle_display(v1);"><H4>Примеры</H4></A>
		<DIV style="display:none" id=v1>
		<PRE class="samples">$Frame Кадр_1
$Back_picture = <0 255 255> animbg
Show
  triang   [ Система1.X_коорд1, Система1.Y_коорд1,
           Система1.X_коорд2, Система1.Y_коорд2,
           Система1.X_коорд3, Система1.Y_коорд3, &lt;255  0   0&gt;, 
           &lt;255 255 0&gt; ]
  text     [ Система2.X_коорд1, Система2.Y_коорд1, 100, 20,
           transparent, &lt;255 255 0&gt;, 'Всем привет!' ]
  circle   [ 145, 220, 50, yellow, red ]
  ellipse  [ Система2.X_коорд1, Система2.Y_коорд1, 50, 50,
           &lt;0  0 255&gt;, &lt;255 255 0&gt; ]
  r_rect   [ Система2.X_коорд3 - 30, Система2.Y_коорд3 -
           20, 60, 40, &lt;255  255  255&gt;, &lt;255  0  255&gt; ]
  bitmap   [ Система3.X_коорд1 - 20,Система3.Y_коорд1 - 20,
           face1, face1m ]
  s_bmp    [ Система3.X_коорд2 - 20,Система3.Y_коорд2 - 20,
           Система3.X_коорд2 / 5, Система3.Y_коорд2 / 5,
           ring, ringm ]
  line     [ Система3.X_коорд3, Система3.Y_коорд3,
           Система3.X_коорд2, Система3.Y_коорд2, 
           &lt;255 255 255&gt; ]
Show_if Система2.X_коорд2 &gt; 30 and Система2.Y_коорд2 &gt; 30
        and  Система2.X_коорд2 &lt; X_размер-30 and 
        Система2.Y_коорд2 &lt; Y_размер - 30
  ellipse  [ Система2.X_коорд2 - 30, Система2.Y_коорд2 - 
           30, 60, 60, &lt;0  255  255&gt;, &lt;0  0  255&gt; ]
Show_if Система2.X_коорд2 &gt;= 0 and Система2.X_коорд2 &lt;= 30
  ellipse  [ 0, Система2.Y_коорд2 - 30, Система2.X_коорд2 *
           2, 60, &lt;0  255  255&gt;, &lt;0  0  255&gt; ]
Show_if Система2.Y_коорд2 &gt;= 0 and Система2.Y_коорд2 &lt;= 30
  ellipse  [ Система2.X_коорд2 - 30, 0, 60, Система2.Y_коорд2
           * 2, &lt;0  255  255&gt;, &lt;0  0  255&gt; ]
$End</PRE>
	</DIV>
	<H4>См. также</H4>
	<P><A href="../html/rdo_obj_pat.htm">Описание образцов</A></P>
	</DIV>
	<BR><SCRIPT src="../navbar.js"></SCRIPT>
</BODY>
</HTML>