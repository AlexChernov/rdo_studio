$Pattern Событие_прихода_заявки: event trace
$Relevant_resources
	_СМО: СМО Keep
$Body
_СМО
	Convert_event
		Событие_прихода_заявки.Planning(Time_now + Время_между_приходами(30));
		if (_СМО.состояние_обслуживающего_устройства == Занят)
		{
			очередь_на_обслуживание++;
		}
		else
		{
			состояние_обслуживающего_устройства = Занят;
			Событие_окончания_обслуживания.planning(Time_now + Длительность_обслуживания( 20, 40 ));
		}
$End

$Pattern Событие_окончания_обслуживания: event trace
$Relevant_resources
	_СМО: СМО Keep
$Body
_СМО
	Convert_event
		количество_обслуженных++;
		if (_СМО.очередь_на_обслуживание > 0)
		{
			очередь_на_обслуживание--;
			Событие_окончания_обслуживания.planning(Time_now + Длительность_обслуживания( 20, 40 ));
		}
		else
		{
			состояние_обслуживающего_устройства = Свободен;
		}
$End
